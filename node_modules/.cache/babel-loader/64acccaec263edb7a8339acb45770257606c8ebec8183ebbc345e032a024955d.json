{"ast":null,"code":"import _slicedToArray from\"/home/juanito/Documents/Cursos para FRONTEND-NOV-04-2024/curso-react-intro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";function useLocalStorage(itemName,initialValue){var _React$useState=React.useState(initialValue),_React$useState2=_slicedToArray(_React$useState,2),item=_React$useState2[0],setItem=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);setItem(parsedItem);}setLoading(false);}catch(error){setLoading(false);setError(true);}},2000);},[]);var saveItem=function saveItem(newItem){localStorage.setItem(itemName,JSON.stringify(newItem));setItem(newItem);};return{item:item,saveItem:saveItem,loading:loading,error:error};}export{useLocalStorage};// localStorage.removeItem('FOOD_V1');\n// const parsedFoods =[\n//     {text: 'Apples', completed: true},\n//     {text: 'Tomatoes', completed: false},\n//     {text: 'Lettuce', completed: true},\n//     {text: 'Potatoes', completed: false},\n//     {text: 'Carrots', completed: false},\n//     {text: 'Chicken', completed: false},\n//     {text: 'Ground beef', completed: false},\n//     {text: 'Fish (Tilapia - Tuna)', completed: false},\n//     {text: 'MIlk - (six pack)', completed: false},\n//     {text: 'Yogurt Greek', completed: false},\n//     {text: 'Eggs', completed: false},\n//     {text: 'Rice', completed: false},\n//     {text: 'Pasta', completed: false},\n//     {text: 'Whole-grain Bread', completed: false},\n//     {text: 'Oats', completed: false},\n//     {text: 'Olive oil', completed: false},\n//     {text: 'Salt and pepper', completed: false},\n//     {text: 'Sugar', completed: false},\n//     {text: 'Coffee and tea', completed: false},\n// ];\n// localStorage.setItem('FOOD_V1', JSON.stringify(parsedFoods));","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","useState","item","setItem","loading","setLoading","error","setError","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem"],"sources":["/home/juanito/Documents/Cursos para FRONTEND-NOV-04-2024/curso-react-intro/src/ListContext/useLocalStorage.js"],"sourcesContent":["import React from \"react\";\n\nfunction useLocalStorage( itemName, initialValue){\n    const  [item, setItem] =React.useState(initialValue);\n\n    const  [loading, setLoading] =React.useState(true);\n    const  [error, setError] =React.useState(false);\n\n    React.useEffect(() =>{\n\n      setTimeout(() =>{\n        try {\n          const  localStorageItem = localStorage.getItem(itemName);\n  \n          let parsedItem;\n    \n          if (!localStorageItem) {\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\n            parsedItem = initialValue;\n    \n            } else {\n                      parsedItem = JSON.parse(localStorageItem);\n                      setItem(parsedItem);\n            }\n            setLoading(false);\n        } catch (error) {\n          setLoading(false);\n          setError(true);\n        }\n      },2000);\n    },[]);\n\n  const saveItem = (newItem) => {\n    localStorage.setItem(itemName,JSON.stringify(newItem));\n    setItem(newItem);\n};\n\nreturn {\n  item, \n  saveItem,\n  loading,\n  error,\n};\n}\n\nexport { useLocalStorage }\n\n// localStorage.removeItem('FOOD_V1');\n// const parsedFoods =[\n//     {text: 'Apples', completed: true},\n//     {text: 'Tomatoes', completed: false},\n//     {text: 'Lettuce', completed: true},\n//     {text: 'Potatoes', completed: false},\n//     {text: 'Carrots', completed: false},\n//     {text: 'Chicken', completed: false},\n//     {text: 'Ground beef', completed: false},\n//     {text: 'Fish (Tilapia - Tuna)', completed: false},\n//     {text: 'MIlk - (six pack)', completed: false},\n//     {text: 'Yogurt Greek', completed: false},\n//     {text: 'Eggs', completed: false},\n//     {text: 'Rice', completed: false},\n//     {text: 'Pasta', completed: false},\n//     {text: 'Whole-grain Bread', completed: false},\n//     {text: 'Oats', completed: false},\n//     {text: 'Olive oil', completed: false},\n//     {text: 'Salt and pepper', completed: false},\n//     {text: 'Sugar', completed: false},\n//     {text: 'Coffee and tea', completed: false},\n// ];\n// localStorage.setItem('FOOD_V1', JSON.stringify(parsedFoods));"],"mappings":"gKAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,QAASC,gBAAe,CAAEC,QAAQ,CAAEC,YAAY,CAAC,CAC7C,oBAAwBH,KAAK,CAACI,QAAQ,CAACD,YAAY,CAAC,oDAA5CE,IAAI,qBAAEC,OAAO,qBAErB,qBAA8BN,KAAK,CAACI,QAAQ,CAAC,IAAI,CAAC,qDAA1CG,OAAO,qBAAEC,UAAU,qBAC3B,qBAA0BR,KAAK,CAACI,QAAQ,CAAC,KAAK,CAAC,qDAAvCK,KAAK,qBAAEC,QAAQ,qBAEvBV,KAAK,CAACW,SAAS,CAAC,UAAK,CAEnBC,UAAU,CAAC,UAAK,CACd,GAAI,CACF,GAAOC,iBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACb,QAAQ,CAAC,CAExD,GAAIc,WAAU,CAEd,GAAI,CAACH,gBAAgB,CAAE,CACrBC,YAAY,CAACR,OAAO,CAACJ,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACf,YAAY,CAAC,CAAC,CAC5Da,UAAU,CAAGb,YAAY,CAEzB,CAAC,IAAM,CACGa,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CACzCP,OAAO,CAACU,UAAU,CAAC,CAC7B,CACAR,UAAU,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOC,KAAK,CAAE,CACdD,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CAAC,IAAI,CAAC,CACT,CAAC,CAAC,EAAE,CAAC,CAEP,GAAMU,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,OAAO,CAAK,CAC5BP,YAAY,CAACR,OAAO,CAACJ,QAAQ,CAACe,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAAC,CACtDf,OAAO,CAACe,OAAO,CAAC,CACpB,CAAC,CAED,MAAO,CACLhB,IAAI,CAAJA,IAAI,CACJe,QAAQ,CAARA,QAAQ,CACRb,OAAO,CAAPA,OAAO,CACPE,KAAK,CAALA,KACF,CAAC,CACD,CAEA,OAASR,eAAe,EAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}