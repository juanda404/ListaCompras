{"ast":null,"code":"import _toConsumableArray from\"/home/juanito/Documents/Cursos para FRONTEND-NOV-04-2024/curso-react-intro/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/juanito/Documents/Cursos para FRONTEND-NOV-04-2024/curso-react-intro/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useLocalStorage}from\"./useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var ListContext=/*#__PURE__*/React.createContext();function ListProvider(_ref){var children=_ref.children;var _useLocalStorage=useLocalStorage('FOOD_V1',[]),shoppingList=_useLocalStorage.item,saveFoods=_useLocalStorage.saveItem,loading=_useLocalStorage.loading,error=_useLocalStorage.error;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),searchValue=_React$useState2[0],setSearchValue=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openModal=_React$useState4[0],setOpenModal=_React$useState4[1];var buyFood=shoppingList.filter(function(shop){return!!shop.completed;}).length;var allFood=shoppingList.length;var searchedFoods=shoppingList.filter(function(shop){var shopText=shop.text.toLowerCase();var searchText=searchValue.toLocaleLowerCase();return shopText.includes(searchText);});var addList=function addList(text){var newList=_toConsumableArray(shoppingList);newList.push({text:text,completed:false});saveFoods(newList);};var buyedFood=function buyedFood(text){var newList=_toConsumableArray(shoppingList);var newIndex=newList.findIndex(function(shop){return shop.text===text;});newList[newIndex].completed=true;saveFoods(newList);};var deleteFood=function deleteFood(text){var newList=_toConsumableArray(shoppingList);var newIndex=newList.findIndex(function(shop){return shop.text===text;});newList.splice(newIndex,1);saveFoods(newList);};return/*#__PURE__*/_jsx(ListContext.Provider,{value:{loading:loading,error:error,buyFood:buyFood,allFood:allFood,searchValue:searchValue,setSearchValue:setSearchValue,searchedFoods:searchedFoods,addList:addList,buyedFood:buyedFood,deleteFood:deleteFood,openModal:openModal,setOpenModal:setOpenModal},children:children});}export{ListContext,ListProvider};","map":{"version":3,"names":["React","useLocalStorage","ListContext","createContext","ListProvider","children","shoppingList","item","saveFoods","saveItem","loading","error","useState","searchValue","setSearchValue","openModal","setOpenModal","buyFood","filter","shop","completed","length","allFood","searchedFoods","shopText","text","toLowerCase","searchText","toLocaleLowerCase","includes","addList","newList","push","buyedFood","newIndex","findIndex","deleteFood","splice"],"sources":["/home/juanito/Documents/Cursos para FRONTEND-NOV-04-2024/curso-react-intro/src/ListContext/index.js"],"sourcesContent":["import React from \"react\";\nimport { useLocalStorage } from \"./useLocalStorage\";\n\nconst ListContext = React.createContext();\n\nfunction ListProvider({children}){\n    const {\n        item: shoppingList,\n         saveItem: saveFoods,\n        loading,\n        error,\n        } = useLocalStorage('FOOD_V1',[] );\nconst [searchValue, setSearchValue] = React.useState('');\nconst [openModal, setOpenModal] = React.useState(false);\n\nconst buyFood = shoppingList.filter(\nshop => !!shop.completed)\n.length;\nconst allFood = shoppingList.length;\nconst searchedFoods = shoppingList.filter(\n(shop) => {\nconst shopText =shop.text.toLowerCase();\nconst searchText = searchValue.toLocaleLowerCase();\nreturn  shopText.includes(searchText);\n} \n);\n\nconst addList = (text) =>{\n    const newList = [...shoppingList];\n    newList.push({\n        text,\n        completed: false,\n    });\n    saveFoods(newList);\n}\n\nconst buyedFood = (text) => {\n      const newList = [...shoppingList];\n      const newIndex =newList.findIndex(\n        (shop) => shop.text === text\n      );\n      newList[newIndex].completed = true;\n      saveFoods(newList);\n};\n\nconst deleteFood = (text) => {\nconst newList = [...shoppingList];\nconst newIndex =newList.findIndex(\n(shop) => shop.text === text\n);\nnewList.splice(newIndex, 1);\nsaveFoods(newList);\n};\n\n    return (\n        <ListContext.Provider value={{\n                loading,\n                error,\n                buyFood,\n                allFood,\n                searchValue,\n                setSearchValue,\n                searchedFoods,\n                addList,\n                buyedFood,\n                deleteFood,\n                openModal, \n                setOpenModal,\n        }}>\n            { children } \n        </ListContext.Provider>\n\n    );\n}\nexport  { ListContext, ListProvider};"],"mappings":"wUAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,eAAe,KAAQ,mBAAmB,CAAC,2CAEpD,GAAMC,YAAW,cAAGF,KAAK,CAACG,aAAa,EAAE,CAEzC,QAASC,aAAY,MAAY,IAAVC,SAAQ,MAARA,QAAQ,CAC3B,qBAKQJ,eAAe,CAAC,SAAS,CAAC,EAAE,CAAE,CAJ5BK,YAAY,kBAAlBC,IAAI,CACOC,SAAS,kBAAnBC,QAAQ,CACTC,OAAO,kBAAPA,OAAO,CACPC,KAAK,kBAALA,KAAK,CAEb,oBAAsCX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,oDAAjDC,WAAW,qBAAEC,cAAc,qBAClC,qBAAkCd,KAAK,CAACY,QAAQ,CAAC,KAAK,CAAC,qDAAhDG,SAAS,qBAAEC,YAAY,qBAE9B,GAAMC,QAAO,CAAGX,YAAY,CAACY,MAAM,CACnC,SAAAC,IAAI,QAAI,CAAC,CAACA,IAAI,CAACC,SAAS,GAAC,CACxBC,MAAM,CACP,GAAMC,QAAO,CAAGhB,YAAY,CAACe,MAAM,CACnC,GAAME,cAAa,CAAGjB,YAAY,CAACY,MAAM,CACzC,SAACC,IAAI,CAAK,CACV,GAAMK,SAAQ,CAAEL,IAAI,CAACM,IAAI,CAACC,WAAW,EAAE,CACvC,GAAMC,WAAU,CAAGd,WAAW,CAACe,iBAAiB,EAAE,CAClD,MAAQJ,SAAQ,CAACK,QAAQ,CAACF,UAAU,CAAC,CACrC,CAAC,CACA,CAED,GAAMG,QAAO,CAAG,QAAVA,QAAO,CAAIL,IAAI,CAAI,CACrB,GAAMM,QAAO,oBAAOzB,YAAY,CAAC,CACjCyB,OAAO,CAACC,IAAI,CAAC,CACTP,IAAI,CAAJA,IAAI,CACJL,SAAS,CAAE,KACf,CAAC,CAAC,CACFZ,SAAS,CAACuB,OAAO,CAAC,CACtB,CAAC,CAED,GAAME,UAAS,CAAG,QAAZA,UAAS,CAAIR,IAAI,CAAK,CACtB,GAAMM,QAAO,oBAAOzB,YAAY,CAAC,CACjC,GAAM4B,SAAQ,CAAEH,OAAO,CAACI,SAAS,CAC/B,SAAChB,IAAI,QAAKA,KAAI,CAACM,IAAI,GAAKA,IAAI,GAC7B,CACDM,OAAO,CAACG,QAAQ,CAAC,CAACd,SAAS,CAAG,IAAI,CAClCZ,SAAS,CAACuB,OAAO,CAAC,CACxB,CAAC,CAED,GAAMK,WAAU,CAAG,QAAbA,WAAU,CAAIX,IAAI,CAAK,CAC7B,GAAMM,QAAO,oBAAOzB,YAAY,CAAC,CACjC,GAAM4B,SAAQ,CAAEH,OAAO,CAACI,SAAS,CACjC,SAAChB,IAAI,QAAKA,KAAI,CAACM,IAAI,GAAKA,IAAI,GAC3B,CACDM,OAAO,CAACM,MAAM,CAACH,QAAQ,CAAE,CAAC,CAAC,CAC3B1B,SAAS,CAACuB,OAAO,CAAC,CAClB,CAAC,CAEG,mBACI,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CACrBrB,OAAO,CAAPA,OAAO,CACPC,KAAK,CAALA,KAAK,CACLM,OAAO,CAAPA,OAAO,CACPK,OAAO,CAAPA,OAAO,CACPT,WAAW,CAAXA,WAAW,CACXC,cAAc,CAAdA,cAAc,CACdS,aAAa,CAAbA,aAAa,CACbO,OAAO,CAAPA,OAAO,CACPG,SAAS,CAATA,SAAS,CACTG,UAAU,CAAVA,UAAU,CACVrB,SAAS,CAATA,SAAS,CACTC,YAAY,CAAZA,YACR,CAAE,UACIX,QAAQ,EACS,CAG/B,CACA,OAAUH,WAAW,CAAEE,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}